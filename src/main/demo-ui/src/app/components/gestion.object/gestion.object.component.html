<home></home>

<head>
  <meta charset="utf-8">
  <title>Manage and Configure</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="" name="keywords">
  <meta content="" name="description">


</head>

<body onload="refreshTime()">
<br>
<div class="noteAlt">

  <br>
  You'll find the list of your iots bellow
  <br>
</div>
  <br><br><br>



  <div *ngIf="show===true">
    <div *ngIf="iots!==null && iots.lights!==null" [ngClass]="{'display-none': type!=='Light' && type!=='all',
    'display-visibility': type==='all' || type==='Light'}">
      <h6>Lights</h6>
      <table class="table table-striped">
        <thead>
        <tr>
          <th scope="col">Id </th>
          <th scope="col">State</th>
          <th scope="col">Ip adress</th>
          <th scope="col">Percentage of Brightness </th>
          <th scope="col">Color</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let iot of iots.lights">
          <td [hidden]="owner!==iot.person.lastName && owner!==''">{{iot.id}}
          <td [hidden]="owner!==iot.person.lastName && owner!==''">{{iot.state}}
            <span  *ngIf="iot.state==='on'"></span>
            <span  *ngIf="iot.state==='off'"></span>
          </td>
          <td [hidden]="owner!==iot.person.lastName && owner!==''">{{iot.ipadress}}</td>
          <td [hidden]="owner!==iot.person.lastName && owner!==''">{{iot.percentage}}</td>
          <td [hidden]="owner!==iot.person.lastName && owner!==''">{{iot.color}}</td>
        </tr>
        </tbody>
      </table>
    </div>

    <div *ngIf="iots!==null && iots.heaters!==null" [ngClass]="{'display-none': type!=='Heater' && type!=='all',
    'display-visibility': type==='all' || type==='Heater'}">
      <h6>Heaters</h6>
      <table class="table table-striped">
        <thead>
        <tr>
          <th scope="col">Id </th>
          <th scope="col">State</th>
          <th scope="col">Ip adress</th>
          <th scope="col"> Actual heat </th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let iot of iots.heaters">
          <td [hidden]="owner!==iot.person.lastName && owner!==''">{{iot.id}}
          <td [hidden]="owner!==iot.person.lastName && owner!==''">{{iot.state}}
            <span *ngIf="iot.state==='on'"></span>
            <span *ngIf="iot.state==='off'"></span>
          </td>
          <td [hidden]="owner!==iot.person.lastName && owner!==''">{{iot.ipadress}}</td>
          <td [hidden]="owner!==iot.person.lastName && owner!==''">{{iot.actualval}}</td>
        </tr>
        </tbody>
      </table>
    </div>
    <div *ngIf="iots!==null && iots.shutters!==null" [ngClass]="{'display-none': type!=='Shutter' && type!=='all',
    'display-visibility': type==='all' || type==='Shutter'}">
      <h6>Shutters</h6>
      <table class="table table-striped">
        <thead>
        <tr>
          <th scope="col">Id </th>
          <th scope="col">State</th>
          <th scope="col">Ip adress</th>
          <th scope="col">Opening percentage </th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let iot of iots.shutters">
          <td [hidden]="owner!==iot.person.lastName && owner!==''">{{iot.id}}
          <td [hidden]="owner!==iot.person.lastName && owner!==''">{{iot.state}}
            <span *ngIf="iot.state==='on'"></span>
            <span  *ngIf="iot.state==='off'"></span>
          </td>
          <td [hidden]="owner!==iot.person.lastName && owner!==''">{{iot.ipadress}}</td>
          <td [hidden]="owner!==iot.person.lastName && owner!==''">{{iot.percentage}}</td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>



      <div *ngIf="iots!==null && iots.clocks!==null" [ngClass]="{'display-none': type!=='Clock' && type!=='all',
    'display-visibility': type==='all' || type==='Clock'}">
      <h6>Clocks</h6>
      <table class="table table-striped">
        <thead>
        <tr>
          <th scope="col">Id</th>
          <th scope="col">State</th>
          <th scope="col">Ip adress</th>
          <th scope="col">Hour scheduled</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let iot of iots.clocks">
          <td [hidden]="owner!==iot.person.lastName && owner!==''">{{iot.id}}
          <td [hidden]="owner!==iot.person.lastName && owner!==''">{{iot.state}}
            <span *ngIf="iot.state==='on'"></span>
            <span  *ngIf="iot.state==='off'"></span>
          </td>
          <td [hidden]="owner!==iot.person.lastName && owner!==''">{{iot.ipadress}}</td>
          <td [hidden]="owner!==iot.person.lastName && owner!==''"> {{iot.minvalueref}} </td>
        </tr>
        </tbody>
      </table>
    </div>







<br><br>

<br><br><br><br><br><br>

<div class="row">
  <div class="col-sm-8 col-sm-offset-2">
<h1> LIGHT </h1>
    <form (ngSubmit)="onSubmit(f)" #f="ngForm">

      <div class="form-group">
        <label for="lighti">Id of the Light you want to update</label>
        <input type="text" class="form-control" id="lighti" name="id" required [(ngModel)]="lights.id">
      </div>

      <div class="form-group">
        <label for="couleur">
          Light's color you want
        </label>
         <!--  AJOUTER AUJOURDHUI A REGLER : -->
        <br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="inlineRadioOptions" id="yellow" value="yellow">
          <label class="form-check-label" for="yellow">Yellow</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="inlineRadioOptions" id="red" value="red">
          <label class="form-check-label" for="red">Red</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="inlineRadioOptions" id="blue" value="blue">
          <label class="form-check-label" for="blue">Blue</label>
        </div>
        <br>
        <select id="couleur" class="form-control" name="couleur"  required [(ngModel)]="lights.color">
          <option value="red" >Red</option>
          <option value="blue">Blue</option>
        </select>
      </div>

      <div class="form-group">
        <label for="statee">
         State of your Light
        </label>
        <select id="statee" class="form-control" name="state" required [(ngModel)]="lights.state">
          <option value="on">On</option>
          <option value="off">Off</option>
        </select>
      </div>


      <div class="form-group">
        <label for="intensite">
          Intensity of the Light
        </label>
        <select id="intensite" class="form-control" name="intensite"  required [(ngModel)]="lights.percentage">
          <option value="1">1</option>
          <option value="5">5</option>
          <option value="10">10</option>
        </select>
      </div>


      <button class="btn btn-primary" type="submit">Set those parameters</button>

    </form>
  </div>
</div>


<br><br><br><br><br><br>
<div class="row">
  <div class="col-sm-8 col-sm-offset-2">
    <h1> HEATER </h1>
    <form (ngSubmit)="onSubmitHeater(h)" #h="ngForm">

      <div class="form-group">
        <label for="exampleInputEmail1">Id of the Heater you want to update</label>
        <input type="text" class="form-control" id="exampleInputEmail1" name="id" required [(ngModel)]="heaters.id">
      </div>

      <div class="form-group">
        <label for="actualval">
          Heat
        </label>
        <select id="actualval" class="form-control" name="actualval"  required [(ngModel)]="heaters.actualval">
          <option value="20">20</option>
          <option value="21">21</option>
          <option value="23">23</option>
        </select>
      </div>

      <button (click)="SwitchDownHeat()" class="btn btn-primary" type="sub">Baisser </button>
      <button class="btn btn-primary" type="sub">Augmenter </button>
      <br><br>

      <div class="form-group">
        <label for="state">
          State
        </label>
        <select id="state" class="form-control" name="state" required [(ngModel)]="heaters.state">
          <option value="on">On</option>
          <option value="off">Off</option>
        </select>
      </div>


      <button class="btn btn-primary" type="submit">Set those parameters </button>

    </form>
  </div>
</div>
<br>


<br><br><br><br><br><br>
<div class="row">
  <div class="col-sm-8 col-sm-offset-2">
    <h1> SHUTTER </h1>
    <form (ngSubmit)="onSubmitShutter(g)" #g="ngForm">


      <div class="form-group">
        <label for="idshut">Id of the Shutter you want to update</label>
        <input type="text" class="form-control" id="idshut" name="id" required [(ngModel)]="shutters.id">
      </div>

      <div class="form-group">
        <label for="percentage">
          Percentage of opening
        </label>
        <select id="percentage" class="form-control" name="percentage"  required [(ngModel)]="shutters.percentage">
          <option value="25">25</option>
          <option value="50">50</option>
          <option value="70">70</option>
        </select>
      </div>

      <button class="btn btn-primary" type="submit">Set those parameters</button>

    </form>
  </div>
</div>
<br>
<br>
<br>
<button (click)="runScenario()" class="btn btn-primary" type="submit">Scenario : Go to Bed ! </button>
<br><br><br>
<div class="row">
  <div class="col-sm-8 col-sm-offset-2">
    <h1> CLOCK </h1>
    <form (ngSubmit)="onSubmitClock(w)" #w="ngForm">


      <div class="form-group">
        <label for="idclock">Id of the Clock you want to update</label>
        <input type="text" class="form-control" id="idclock" name="id" required [(ngModel)]="clocks.id">
      </div>

      <div >
        <label for="appt">Please choose an hour to wake up for</label>

        <input type="time" id="appt" name="appt"
               min="00:00" max="23:59" required [(ngModel)]="clocks.minvalueref">
<br>
        <small>For the next day</small>


      </div>

      <button class="btn btn-primary" type="submit">Set the alarm clock </button>

    </form>
  </div>
</div>
</body>

